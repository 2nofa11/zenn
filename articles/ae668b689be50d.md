---
title: "フロントエンドの「状態」の入門"
emoji: "📝"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["Vue", "フロントエンド", "フレームワーク"]
published: false
---

# 状態管理についての整理

## まえがき

フロントエンドエンジニアになって、「状態」というワードをよく耳にすることが多くなりました。

あらためて自分の理解の整理もかねて、まとめておこうと思います。

なお、著者はVueを業務で使っているため、Vueベースでのお話になります。

参考とした著書は「みんなのVue.js」という本です。

## 状態とは

アプリケーションは、ユーザーとシステムが「状態」を介してやり取りを行うものです。

「状態」はアプリケーションのふるまいを決定するもので、状態管理を適切に行うことでアプリケーションの性能や保守性を高めることが出来ます。

どういう「状態」にあるか、によってユーザーが見ているもの、操作する対象が変わります。

~~MVCモデルに親しみがある型は、対象のデータのModel+Controllerというイメージでいいかもしれません。~~

↑違う気がしたので削除しました。

## 状態管理とは

システムの状態をデータとして表現したものを指します。

上の文章だと抽象的すぎるので、もう少し具体的解説します。

Webアプリケーションが持つ状態は以下の種類があります。

| 状態                 | 具体例                               |
| -------------------- | ------------------------------------ |
| UIの状態             | モーダルやタブ選択                   |
| DBからのデータ       | ブログの記事データ、商品データ       |
| 通信処理の状態       | あるデータの読み込み中               |
| ナビゲーションの状態 | アプリケーションのどの位置にいるのか |

状態管理は、こうした「アプリケーションの状態を表現するデータ」を適切に扱うことを指しています。

## フロントエンドの状態管理

特にフロントエンドは、状態は以下の図のように作用します。

![image-20221215215741379](/images/image-20221215215741379.png)

この図のように「状態」「ビュー」「アクション」をサイクルで関係しあいます。

* 状態：前述したとおり
* ビュー：UIを通して、ユーザーへ状態を伝えユーザーの操作を促す。
* アクション：ユーザーからの入力に応じて、何らかの処理が行われる。

また、昨今のフロントエンドでは状態を疎結合に持つため、部品ごとに状態管理を行います。

イメージとしては以下図の通り。

![image-20221215221428606](/images/image-20221215221428606.png)

部品ごとの値の受け渡しは「Prop down,event up」という記述の通り、ある操作でしか受け渡せないようになっています。

出入口を絞ることで管理しやすいアプリケーションになりますが、反対に状態の自由度がなくなってしまうことが問題になりました。

その問題を解決するためにFluxという思想から、VueだとVuexという状態管理ライブラリが生まれたという背景があります。

## 状態の種類

状態には2種類存在します。「状態データ」と「派生データ」です。

それぞれについて、Vueでの例を交えながら説明します。

* 状態データ

一般的な状態はこちらになります。Vueのオプションでいうと、Dataにあたります。

* 派生データ

状態データをもとに算出されるデータを指します。Vueのオプションでいうと、Computedにあたります。

## 状態管理の方法

### コンポーネントでの管理

#### 概要

#### メリット

#### デメリット

### Storeでの管理

#### 概要

#### メリット

#### デメリット
